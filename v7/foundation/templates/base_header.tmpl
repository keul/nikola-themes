{#  -*- coding: utf-8 -*- #}
{% import 'base_helper.tmpl' as base with context %}

{% macro html_header() %}
    <div class="row">
        <div class="large-12 columns">
            <header id="header" role="banner">
                {{ html_site_title() }}
                {{ html_translation_header() }}
                {{ html_navigation_links() }}
                {% if search_form %}
                    <div class="searchform" role="search">
                        {{ search_form }}
                    </div>
                {% endif %}
            </header>
            {{ template_hooks['page_header']() }}
        </div>
    </div>
{% endmacro %}

{% macro html_site_title() %}
    <h1 id="brand"><a href="{{ abs_link('/') }}" title="{{ blog_title }}" rel="home">
    {% if logo_url %}
        <img src="{{ logo_url }}" alt="{{ blog_title }}" id="logo">
    {% endif %}

    {% if show_blog_title %}
        <span id="blog-title">{{ blog_title }}</span>
    {% endif %}
    </a></h1>
{% endmacro %}

{% macro html_navigation_links() %}
    <nav id="menu" role="navigation">
    <dl class="tabs" data-tab>
    {% for url, text in navigation_links[lang] %}
        {% if url is mapping %}
            <dd> {{ text }} </dd>
            <dl>
            {% for suburl, text in url %}
                {% if rel_link(permalink, suburl) == "#" %}
                    <dd class="active"><a href="{{ permalink }}">{{ text }}</a></dd>
                {% else %}
                    <dd><a href="{{ suburl }}">{{ text }}</a></dd>
                {% endif %}
            {% endfor %}
            </dl>
        {% else %}
            {% if rel_link(permalink, url) == "#" %}
                <dd class="active"><a href="{{ permalink }}">{{ text }}</a></dd>
            {% else %}
                <dd><a href="{{ url }}">{{ text }}</a></dd>
            {% endif %}
        {% endif %}
    {% endfor %}
    {{ template_hooks['menu']() }}
    {{ template_hooks['menu_alt']() }}
    </dl>
    </nav>
{% endmacro %}

{% macro html_translation_header() %}
    {% if translations|length > 1 %}
    <div class="row">
        <div class="large-12 columns">
            <div id="toptranslations">
                <h2>{{ messages("Languages:") }}</h2>
                {{ base.html_translations() }}
            </div>
        </div>
    </div>
    {% endif %}
{% endmacro %}
